{% extends "base.html" %}
{% block content %}
<h2>Embed Text into Image</h2>
<form method="post" enctype="multipart/form-data">
  <div class="mb-3">
    <label class="form-label">Cover Image (PNG/JPG/BMP)</label>
    <input class="form-control" type="file" name="image" accept="image/*" required>
  </div>
  <div class="mb-3">
    <label class="form-label">Secret Text</label>
    <textarea name="text" class="form-control" rows="5" required></textarea>
  </div>
  <div class="mb-3 form-check">
    <input class="form-check-input" type="checkbox" name="use_aes" id="use_aes">
    <label class="form-check-label" for="use_aes">Use AES encryption (password required)</label>
  </div>
  <div class="mb-3">
    <label class="form-label">Password (if AES)</label>
    <input class="form-control" type="password" name="password" placeholder="Password for AES (optional)">
  </div>
  <button class="btn btn-primary">Embed</button>
  <a class="btn btn-secondary" href="{{ url_for('index') }}">Back</a>
</form>

{% if stego_image %}
<hr>
<h5>Stego image created</h5>
<img src="{{ url_for('static', filename='outputs/' + stego_image) }}" class="img-thumbnail" width="360">
<div class="mt-2">
  <a class="btn btn-success mt-2" href="{{ url_for('download_file', filename=stego_image) }}">Download Stego Image</a>
</div>
{% endif %}
{% endblock %}
